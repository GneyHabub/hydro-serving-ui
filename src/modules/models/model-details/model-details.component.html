<div class="model-name">
  <span class='h3'>{{model?.source}}</span>
</div>
<div class="model-details">
  <div class="model-details-table">
    <div class="model-details-row">
      <span class="model-details-label">Model</span>
      <span>...................</span>
      <span class="model-details-value">{{ model?.lastModelRuntime?.modelVersion }}</span>
    </div>
    <div class="model-details-row">
      <span class="model-details-label">Runtime</span>
      <span>...............</span>
      <span class="model-details-value">{{ model?.runtimeType?.name }}</span>
    </div>
    <div class="model-details-row">
      <span class="model-details-label">Tags</span>
      <span>......................</span>
      <span class="model-details-value">{{ model?.runtimeType?.tags.join(", ") }}</span>
    </div>
  </div>


</div>
<h5 class="model-grid-header">Versions</h5>

<hydro-table [tableHeader]="tableHeader" [tableData]="tableData" ></hydro-table>


<table class='models-list-table mdl-data-table mdl-js-data-table'>
  <thead>
    <tr>
      <th>Created</th>
      <th>Vesion</th>
      <th>Status</th>
      <th>Actions</th>
      <th>Services</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let runtime of runtimes" class='models-list-table__tr cs-cursor-pointer'>
      <td class="models-list-table__td name">
        <div class='cs-text-overflow-ellipsis'>{{runtime?.created | utcToLocal | amTimeAgo}}</div>
      </td>
      <td class="models-list-table__td name">
        <div class='cs-text-overflow-ellipsis'>{{runtime?.modelVersion}}</div>
      </td>
      <td class="models-list-table__td name">
        <div class='cs-text-overflow-ellipsis' [ngClass]="{
          'mdl-color-text--green-700': getModelService(runtime.id),
          'mdl-color-text--red-700': !getModelService(runtime.id)
          }">{{getModelService(runtime.id) ? 'DEPLOYED' : 'UNDEPLOYED'}}</div>
      </td>
      <td class='cs-text-overflow-ellipsis'>
        <div fxLayout="row" fxLayoutAlign="space-between center" class="">
          <div class="">
            <a *ngIf="!getModelService(runtime.id)" title="Deploy" (click)="deployModelService(getPayloadForModelDeploy(runtime))" class="hydro-link mdl-color-text--grey-700">
              <mdl-icon>cloud_upload</mdl-icon>
            </a>
            <a *ngIf="getModelService(runtime.id)" class="hydro-link mdl-color-text--grey-700" (click)="stopModel(getModelService(runtime.id), getWeightedServices(runtime.id))"
              title="Stop">
              <mdl-icon>not_interested</mdl-icon>
            </a>
            <a *ngIf="getModelService(runtime.id)" (click)="testModel(getModelService(runtime.id))" title='Test' class="hydro-link mdl-color-text--blue-800">
              <mdl-icon>play_circle_outline</mdl-icon>
            </a>
          </div>
        </div>
      </td>
      <td>
        <div *ngIf="this.weightedServices && this.weightedServices.length > 0" class="cs-text-overflow-ellipsis"><a *ngFor="let weightedService of getWeightedServices(runtime.id)" [routerLink]="['/services', weightedService.id]">{{  weightedService.serviceName }}</a></div>
      </td>
    </tr>
  </tbody>
</table>
