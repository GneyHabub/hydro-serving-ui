<div class="scatter-plot" #container>
  <svg
    [attr.width]="chartWidth"
    [attr.height]="chartHeight"
    #svgContainer
  >
    <g
      hsD3Axis
      [scale]="yScale"
      position="left"
      [attr.transform]="yAxisTranslate"
    ></g>
    <g hsD3Axis [scale]="xScale" [attr.transform]="xAxisTranslate"></g>
    <rect
      class="scatter-plot__layout"
      [attr.width]="viewWidth"
      [attr.height]="viewHeight"
      [attr.transform]="dataTranslate"
      #layout
    ></rect>
    <g [attr.transform]="dataTranslate" class="scatter-plot__links"></g>
    <g [attr.transform]="dataTranslate">
      <circle
        (mouseenter)="onMouseEnter($event, i)"
        (mouseleave)="onMouseLeave()"
        *ngFor="let point of points; index as i"
        class="scatter-plot__point"
        [ngClass]="{
          'scatter-plot__point--hide': hidePoint(i),
          'scatter-plot__point--selected': i === selectedIndex
        }"
        r="6"
        [attr.fill]="pointColor(i)"
        [attr.transform]="translatePoint(point)"
        (click)="onSelectPoint(i)"
      />
    </g>
  </svg>
  <div *ngIf="colorizer" class="scatter-plot__legend">
    <hs-scatter-plot-legend [colorizer]="colorizer"></hs-scatter-plot-legend>
  </div>
</div>
<ng-template #noData>no data</ng-template>
