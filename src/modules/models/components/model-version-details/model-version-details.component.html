<div class="content">
    <div class="content-header">
        <button class="button button--flat navigation-button" [routerLink]="['../']">
            <hydro-icon class="button__icon" [type]="'icon-left'" ></hydro-icon>
            back to model
        </button>

        <div class="content-header__title">{{ (modelVersion$ | async)?.model?.name }} / v{{ (modelVersion$ | async)?.modelVersion }}</div>
    </div>


    <div class="content-body">
        <ol class="content__body-section content-info__sublist">
            <li class="content-info__sublist-item">
                <span class="content-info__sublist-item-title">Created</span>
                <span class="content-info__sublist-item-value">
                    <div class="status">{{ (modelVersion$ | async)?.finished | utcToLocal | amTimeAgo }}</div>
                </span>
            </li>
            <li class="content-info__sublist-item">
                <span class="content-info__sublist-item-title">Version</span>
                <span class="content-info__sublist-item-value">
                    <div class="status">{{ (modelVersion$ | async)?.modelVersion }}</div>
                </span>
            </li>
            <li class="content-info__sublist-item">
                <span class="content-info__sublist-item-title">Status</span>
                <ng-container *ngIf="(modelVersion$ | async)?.status;let status">
                    <span 
                        class="content-info__sublist-item-value model-build-status--{{status | lowercase}}" 
                        [status]="status"  
                        hsModelVersionStatus >
                        <span #statusText class="status"></span>
                    </span>
                </ng-container>
            </li>
            <li class="content-info__sublist-item">
                <span class="content-info__sublist-item-title">Applications</span>
                <span class="content-info__sublist-item-value">
                    <span *ngFor="let appName of ((modelVersion$ | async)?.applications);last as isLast"
                        [routerLink]="['../../../applications', appName]"
                        class='application'
                        [ngClass] = "{'application--isLast': isLast}">
                        <span class="application-name">{{appName}}</span>
                    </span>
                </span>
            </li>
        </ol>

        <div class="content__body-section">
            <hydro-signatures [signatures]="(modelVersion$ | async)?.modelContract?.signatures"></hydro-signatures>
        </div>        

        <div *ngIf="modelVersion$?.id | async; let modelVersionId"class="content__body-section">
            <hydro-data-profiles [modelVersionId]="modelVersionId"></hydro-data-profiles>
        </div>
    </div>
</div>